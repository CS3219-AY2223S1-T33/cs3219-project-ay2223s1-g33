{
	"containerDefinitions": [
		{
			"name": "redis",
			"portMappings": [
				{
					"hostPort": 6379,
					"protocol": "tcp",
					"containerPort": 6379
				}
			],
			"cpu": 0,
			"environment": [],
			"mountPoints": [],
			"memory": 64,
			"volumesFrom": [],
			"image": "856252906546.dkr.ecr.ap-southeast-1.amazonaws.com/cs3219:redis-af2de6b39a45fdca1a94be1b19c56c80b2ee01d8"
		},
		{
			"name": "session-service",
			"portMappings": [
				{
					"hostPort": 4100,
					"protocol": "tcp",
					"containerPort": 4100
				}
			],
			"cpu": 0,
			"environment": [],
			"mountPoints": [],
			"memory": 32,
			"volumesFrom": [],
			"image": "",
			"dependsOn": [
				{
					"containerName": "redis",
					"condition": "START"
				}
			],
			"links": ["redis"],
			"essential": true
		},
		{
			"name": "question-service",
			"portMappings": [
				{
					"hostPort": 8084,
					"protocol": "tcp",
					"containerPort": 8084
				},
				{
					"hostPort": 4004,
					"protocol": "tcp",
					"containerPort": 4004
				}
			],
			"cpu": 0,
			"environment": [],
			"mountPoints": [],
			"memory": 128,
			"volumesFrom": [],
			"image": "",
			"dependsOn": [
				{
					"containerName": "redis",
					"condition": "START"
				}
			],
			"links": ["redis"],
			"essential": true
		},
    	{
			"name": "history-service",
			"portMappings": [
				{
					"hostPort": 8085,
					"protocol": "tcp",
					"containerPort": 8085
				},
				{
					"hostPort": 4005,
					"protocol": "tcp",
					"containerPort": 4005
				}
			],
			"cpu": 0,
			"environment": [],
			"dnsServers": [],
			"mountPoints": [],
			"memory": 128,
			"volumesFrom": [],
			"image": "",
			"dependsOn": [
				{
					"containerName": "user-service",
					"condition": "START"
				},
				{
					"containerName": "question-service",
					"condition": "START"
				},
				{
					"containerName": "redis",
					"condition": "START"
				}
			],
			"links": ["user-service", "question-service", "redis"],
			"essential": true
		},
		{
			"name": "matchmaker",
			"portMappings": [],
			"cpu": 0,
			"environment": [],
			"dnsServers": [],
			"mountPoints": [],
			"memory": 32,
			"volumesFrom": [],
      		"image": "",
			"dependsOn": [
				{
					"containerName": "redis",
					"condition": "START"
				}
			],
			"links": ["redis"],
			"essential": true
		},
		{
			"name": "user-service",
			"portMappings": [
				{
					"hostPort": 4000,
					"protocol": "tcp",
					"containerPort": 4000
				},
				{
					"hostPort": 8081,
					"protocol": "tcp",
					"containerPort": 8081
				}
			],
			"cpu": 0,
			"environment": [],
			"mountPoints": [],
			"memory": 128,
			"volumesFrom": [],
			"image": "",
			"dependsOn": [
				{
					"containerName": "session-service",
					"condition": "START"
				}
			],
			"essential": false,
			"links": ["session-service"]
		},
		{
			"name": "matching-service",
			"portMappings": [
				{
					"hostPort": 4001,
					"protocol": "tcp",
					"containerPort": 4001
				},
				{
					"hostPort": 8082,
					"protocol": "tcp",
					"containerPort": 8082
				}
			],
			"cpu": 0,
			"environment": [],
			"mountPoints": [],
			"memory": 128,
			"volumesFrom": [],
			"image": "",
			"dependsOn": [
				{
					"containerName": "redis",
					"condition": "START"
				}
			],
			"essential": true,
			"links": ["redis"]
		},
		{
			"name": "collab-service",
			"portMappings": [
				{
					"hostPort": 4003,
					"protocol": "tcp",
					"containerPort": 4003
				}
			],
			"cpu": 0,
			"environment": [],
			"mountPoints": [],
			"memory": 128,
			"volumesFrom": [],
			"image": "",
			"dependsOn": [
				{
					"containerName": "redis",
					"condition": "START"
				},
				{
					"containerName": "question-service",
					"condition": "START"
				},
				{
					"containerName": "history-service",
					"condition": "START"
				}
			],
			"essential": true,
			"links": ["redis", "question-service", "history-service"]
		},
		{
			"name": "frontend",
			"logConfiguration": {
				"logDriver": "awslogs",
				"secretOptions": null,
				"options": {
					"awslogs-group": "/ecs/cs3219-task",
					"awslogs-region": "ap-southeast-1",
					"awslogs-stream-prefix": "ecs"
				}
			},
			"portMappings": [
				{
					"hostPort": 80,
					"protocol": "tcp",
					"containerPort": 80
				}
			],
			"cpu": 0,
			"environment": [],
			"mountPoints": [],
			"memory": 64,
			"volumesFrom": [],
			"image": "",
			"dependsOn": [],
			"essential": false
		},
		{
			"name": "gateway",
			"portMappings": [
				{
					"hostPort": 80,
					"protocol": "tcp",
					"containerPort": 5000
				}
			],
			"cpu": 0,
			"environment": [],
			"mountPoints": [],
			"memory": 32,
			"volumesFrom": [],
			"image": "",
			"dependsOn": [
				{
					"containerName": "redis",
					"condition": "START"
				},
				{
					"containerName": "session-service",
					"condition": "START"
				},
				{
					"containerName": "user-service",
					"condition": "START"
				},
				{
					"containerName": "question-service",
					"condition": "START"
				},
				{
					"containerName": "history-service",
					"condition": "START"
				},
				{
					"containerName": "matching-service",
					"condition": "START"
				},
				{
					"containerName": "collab-service",
					"condition": "START"
				},
				{
					"containerName": "frontend",
					"condition": "START"
				}
			],
			"essential": true,
			"links": [
				"user-service",
				"matching-service",
				"collab-service",
				"session-service",
				"frontend",
        		"history-service"
			]
		}
	],
	"placementConstraints": [],
	"family": "cs3219-task",
	"requiresCompatibilities": ["EC2"],
	"volumes": []
}
